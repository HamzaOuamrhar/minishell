reading writing in tty
expand $?
reset tokens before new prompt
fixing some memory leaks not the ones in garbage collector
